!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Statsig=e():t.Statsig=e()}(this,()=>(()=>{"use strict";var $Q=(e)=>Object.defineProperty(e,"__esModule",{value:!0});var $Q2=(a,b,c)=>Object.defineProperty(a,b,c);var $P=(a,b)=>Object.assign(a,b);var $A=()=>((t,r,u,l)=>{return new(u=u||Promise)(function(n,e){function i(t){try{s(l.next(t))}catch(t){e(t)}}function o(t){try{s(l.throw(t))}catch(t){e(t)}}function s(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(i,o)}s((l=l.apply(t,r||[])).next())})});var n={1845:(t,n,e)=>{var i;$Q2(n,"__esModule",{value:!0}),n.t=n.i=n.l=void 0;const r=e(7512);n.l=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:u}catch(t){return u}},n.i=t=>(0,n.l)()[t];n.t=t=>{var e=(0,n.l)();return t?e.instances&&e.instances[t]:(e.instances&&1<Object.keys(e.instances).length&&r.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),e.firstInstance)};var s="__STATSIG__",l="undefined"!=typeof window?window:{},e=void 0!==e.g?e.g:{},o="undefined"!=typeof globalThis?globalThis:{};const u=null!=(i=null!=(i=null!=(i=l[s])?i:e[s])?i:o[s])?i:{instance:n.t};l[s]=u,e[s]=u,o[s]=u},2137:(t,e,n)=>{$Q(e),e.o=e.u=void 0;const r=n(1406);function i(t,e,n){if(n)return n(t,e);const i=e&&e.customIDs?e.customIDs:{};e=["uid:"+(null!=(n=null==e?void 0:e.userID)?n:""),"cids:"+Object.keys(i).sort((t,e)=>t.localeCompare(e)).map(t=>t+"-"+i[t]).join(","),"k:"+t];return(0,r.h)(e.join("|"))}e.u=i,e.o=function(t,e,n){return e?i(t,e,n):(0,r.h)("k:"+t)}},6427:(t,e)=>{$Q(e)},694:function(t,e,n){var r=this&&this.__awaiter||$A();$Q(e),e.Wn=e.DataAdapterCore=void 0;const a=n(7512),c=n(9122),s=n(8578),l=n(4534),h=n(3401);function d(t,e,n,i){return{source:t,data:e,receivedAt:Date.now(),stableID:n,fullUserHash:(0,s.v)(i)}}e.DataAdapterCore=class{constructor(t,e){this._=t,this.p=e,this.m=null,this.O=null,this.j="statsig.last_modified_time."+e,this.S=new i}attach(t,e,n){this.O=t,this.m=e}getDataSync(t){var t=t&&(0,s.T)(t,this.m),e=this.k(t),n=this.S.get(e,t);return n||((n=this.I(e))?(this.S.add(e,n),this.S.get(e,t)):null)}setData(t,e){var e=e&&(0,s.T)(e,this.m),n=this.k(e);this.S.add(n,d("Bootstrap",t,null,e))}D(e,n,i){return r(this,void 0,void 0,function*(){l.Storage.isReady()||(yield l.Storage.isReadyResolver());var t=null!=e?e:this.getDataSync(n),t=[this.M(t,n,i)];return null!=i&&i.timeoutMs&&t.push(new Promise(t=>setTimeout(t,i.timeoutMs)).then(()=>(a.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(t)})}A(n,i){return r(this,void 0,void 0,function*(){var t=n&&(0,s.T)(n,this.m),e=this.k(t),t=yield this.D(null,t,i);t&&this.S.add(e,$P($P({},t),{source:"Prefetch"}))})}M(s,l,o){var u;return r(this,void 0,void 0,function*(){var t=null!=(u=null==s?void 0:s.data)?u:null,e=null!=s&&this.N(s,l),e=yield this.R(t,l,o,e);if(!e)return a.Log.debug("No response returned for latest value"),null;var n=(0,h.P)(e,"has_updates","Response"),i=this.C(),i=c.StableID.get(i);let r=null;if(!0===(null==n?void 0:n.has_updates))r=d("Network",e,i,l);else{if(!t||!1!==(null==n?void 0:n.has_updates))return null;r=d("NetworkNotModified",t,i,l)}e=this.k(l);return this.S.add(e,r),this.U(e,r),r})}C(){return null!=this.O?this.O:(a.Log.error(this._+" is not attached to a Client"),"")}I(t){var e=null==(e=l.Storage.getItem)?void 0:e.call(l.Storage,t);return null!=e&&(t=(0,h.P)(e,"source","Cached Result"))?$P($P({},t),{source:"Cache"}):null}U(t,e){l.Storage.setItem(t,JSON.stringify(e)),this.F(t)}F(t){var e=null!=(e=(0,l.G)(this.j))?e:{},t=(e[t]=Date.now(),o(e,10));t&&(delete e[t],l.Storage.removeItem(t)),(0,l.L)(this.j,e)}},e.Wn=d;class i{constructor(){this.K={}}get(t,e){var t=this.K[t],n=null==t?void 0:t.stableID,e=null==(e=null==e?void 0:e.customIDs)?void 0:e.stableID;return e&&n&&e!==n?(a.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):t}add(t,e){var n=o(this.K,9);n&&delete this.K[n],this.K[t]=e}merge(t){this.K=$P($P({},this.K),t)}}function o(r,t){var e=Object.keys(r);return e.length<=t?null:e.reduce((t,e)=>{var n=r[t],i=r[e];return"object"==typeof n&&"object"==typeof i?i.receivedAt<n.receivedAt?e:t:i<n?e:t})}},8962:(t,l)=>{$Q2(l,"__esModule",{value:!0}),l.Diagnostics=void 0;const i=new Map,n="start";function r(t,e,n,i){return $P({key:n,action:e,step:i,timestamp:Date.now()},t)}function s(t,e){var n=null!=(n=i.get(t))?n:[];n.push(e),i.set(t,n)}function e(t,e){if(e in t)return t[e]}l.Diagnostics={q:t=>i.get(t),B:t=>{s(t,r({},n,"overall"))},V:(t,e,n)=>{s(t,r({success:e,error:e?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:n},"end","overall"))},J:(t,e)=>{s(t,r(e,n,"initialize","network_request"))},$:(t,e)=>{s(t,r(e,"end","initialize","network_request"))},W:t=>{s(t,r({},n,"initialize","process"))},H:(t,e)=>{s(t,r(e,"end","initialize","process"))},Y:t=>{i.delete(t)},X(t){if(t&&"object"==typeof t)return{code:e(t,"code"),name:e(t,"name"),message:e(t,"message")}},Z(t,e,n,i){return{success:!0===(null==t?void 0:t.ok),statusCode:null==t?void 0:t.status,sdkRegion:null==(t=null==t?void 0:t.headers)?void 0:t.get("x-statsig-region"),isDelta:!0===n.includes('"is_delta":true')||void 0,attempt:e,error:l.Diagnostics.X(i)}},tt(t,e,n,i){var r,s=l.Diagnostics.q(n);return null==s||s.length<=0?-1:(r=s[s.length-1].timestamp-s[0].timestamp,l.Diagnostics.Y(n),n=function(t,e){t={eventName:"statsig::diagnostics",user:t,value:null,metadata:e,time:Date.now()};return t}(t,{context:"initialize",markers:s.slice(),statsigOptions:i}),e.enqueue(n),r)}}},8809:function(t,e){var n=this&&this.__awaiter||$A();$Q(e),e.et=void 0;const r=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),s="https://cloudflare-dns.com/dns-query",l=["i","e","d"],o=200;e.et=function(e){return n(this,void 0,void 0,function*(){var n=yield e(s,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:r});if(n.ok){var t,n=yield n.arrayBuffer(),n=new Uint8Array(n);{var i=n,n=i.findIndex((t,e)=>e<o&&"="===String.fromCharCode(t)&&l.includes(String.fromCharCode(i[e-1])));if(-1===n)throw(t=new Error("Failed to parse TXT records from DNS")).name="DnsTxtParseError",t;let e="";for(let t=n-1;t<i.length;t++)e+=String.fromCharCode(i[t]);return e.split(",")}}throw(t=new Error("Failed to fetch TXT records from DNS")).name="DnsTxtFetchError",t})}},3539:(t,e)=>{$Q(e)},5542:function(t,o,e){var n=this&&this.__awaiter||$A();$Q2(o,"__esModule",{value:!0}),o.ErrorBoundary=o.EXCEPTION_ENDPOINT=void 0;const i=e(7512),u=e(5902),a=e(8e3),c=(o.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception","[Statsig] UnknownError");function h(t){return t instanceof Error?t:"string"==typeof t?new Error(t):new Error("An unknown error occurred.")}o.ErrorBoundary=class{constructor(t,e,n,i){this.O=t,this.m=e,this.nt=n,this.qn=i,this.it=new Set}wrap(i){try{const t=i;!function(t){const e=new Set;let n=Object.getPrototypeOf(t);for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).filter(t=>"function"==typeof(null===n||void 0===n?void 0:n[t])).forEach(t=>e.add(t)),n=Object.getPrototypeOf(n);return Array.from(e)}(t).forEach(e=>{const n=t[e];"$EB"in n||(t[e]=(...t)=>this.rt(e,()=>n.apply(i,t)),t[e].$EB=!0)})}catch(t){this.st("eb:wrap",t)}}logError(t,e){this.st(t,e)}getLastSeenErrorAndReset(){var t=this.qn;return this.qn=void 0,null!=t?t:null}attachErrorIfNoneExists(t){this.qn||(this.qn=h(t))}rt(e,t){try{var n=t();return n&&n instanceof Promise?n.catch(t=>this.st(e,t)):n}catch(t){return this.st(e,t),null}}st(s,l){try{i.Log.warn("Caught error in "+s,{error:l});n(this,void 0,void 0,function*(){var t,e=l||Error(c),n=e instanceof Error,i=n?e.name:"No Name",r=h(e);this.qn=r,this.it.has(i)||(this.it.add(i),null!=(r=null==(r=this.m)?void 0:r.networkConfig)&&r.preventAllNetworkTraffic?null!=(r=this.nt)&&r.call(this,{name:"error",error:l,tag:s}):(r=u.SDKType.lt(this.O),t=a.StatsigMetadataProvider.get(),n=n?e.stack:function(t){try{return JSON.stringify(t)}catch(t){return c}}(e),e=$P({tag:s,exception:i,info:n,statsigOptions:function(t){if(!t)return{};const n={};return Object.entries(t).forEach(([t,e])=>{switch(typeof e){case"number":case"bigint":case"boolean":n[String(t)]=e;break;case"string":e.length<50?n[String(t)]=e:n[String(t)]="set";break;case"object":"environment"===t?n.environment=e:"networkConfig"===t?n.networkConfig=e:n[String(t)]=null!=e?"set":"unset"}}),n}(this.m)},$P($P({},t),{sdkType:r})),yield(null!=(i=null==(n=null==(i=this.m)?void 0:i.networkConfig)?void 0:n.networkOverrideFunc)?i:fetch)(o.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this.O,"STATSIG-SDK-TYPE":String(r),"STATSIG-SDK-VERSION":String(t.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(e)}),null!=(n=this.nt)&&n.call(this,{name:"error",error:l,tag:s})))}).then(()=>{}).catch(()=>{})}catch(t){}}}},2922:(t,e)=>{$Q(e)},2417:(t,e)=>{$Q(e)},7770:function(t,e,n){var s=this&&this.__awaiter||$A();$Q(e),e.EventLogger=void 0;const i=n(2137),r=n(1406),l=n(7512),o=n(7410),u=n(6830),a=n(1637),c=n(4534),h=n(1881),d=n(2397),v={},f={Startup:"startup",GainedFocus:"gained_focus"};class _{static ot(t){null!=(t=v[t])&&t.flush().catch(()=>{})}static ut(t){null!=(t=v[t])&&t.ct(f.GainedFocus)}constructor(t,e,n,i){this.O=t,this.nt=e,this.ht=n,this.m=i,this.dt=[],this.vt={},this.ft={},this._t=!1,this.gt=Date.now(),this.bt=!0===(null==i?void 0:i.disableLogging),this.yt=null!=(t=null==i?void 0:i.loggingBufferMaxSize)?t:100;e=null==i?void 0:i.networkConfig;this.Ot=new h.UrlConfiguration(o.Endpoint.jt,null==e?void 0:e.logEventUrl,null==e?void 0:e.api,null==e?void 0:e.logEventFallbackUrls)}setLoggingDisabled(t){this.bt=t}enqueue(t){this.St(t)&&(this.wt(t),this.Tt(),this.dt.length>this.yt)&&_.ot(this.O)}incrementNonExposureCount(t){var e=null!=(e=this.ft[t])?e:0;this.ft[t]=e+1}reset(){this.vt={}}start(){(0,u.kt)()||(v[this.O]=this,(0,d.It)(t=>{"background"===t?_.ot(this.O):"foreground"===t&&_.ut(this.O)}),this.ct(f.Startup),this.Dt())}stop(){return s(this,void 0,void 0,function*(){this.Et&&(clearInterval(this.Et),this.Et=null),delete v[this.O],yield this.flush()})}flush(){return s(this,void 0,void 0,function*(){var t;this.Mt(),0!==this.dt.length&&(t=this.dt,this.dt=[],yield this.At(t))})}Tt(){this._t||(this._t=!0,200<Date.now()-this.gt)||setTimeout(()=>_.ot(this.O),200)}St(t){if((0,u.kt)())return!1;if((0,a.xt)(t)){var e=t.user||{statsigEnvironment:void 0},e=(0,i.u)(this.O,e),n=t.metadata||{},t=[t.eventName,e,n.gate,n.config,n.ruleID,n.allocatedExperiment,n.parameterName,String(n.isExplicitParameter),n.reason].join("|"),e=this.vt[t],n=Date.now();if(e&&n-e<6e5)return!1;1e3<Object.keys(this.vt).length&&(this.vt={}),this.vt[t]=n}return!0}At(n){var i,r;return s(this,void 0,void 0,function*(){if(this.bt)return this.Nt(n),!1;try{var t=(0,d.Rt)()&&this.ht.isBeaconSupported()&&null==(null==(r=null==(i=this.m)?void 0:i.networkConfig)?void 0:r.networkOverrideFunc),e=(this.nt({name:"pre_logs_flushed",events:n}),t?yield this.Pt(n):yield this.Ct(n));return e.success?(this.nt({name:"logs_flushed",events:n}),!0):(l.Log.warn("Failed to flush events."),this.Nt(n),!1)}catch(t){return l.Log.warn("Failed to flush events."),!1}})}Ct(e){var n;return s(this,void 0,void 0,function*(){var t=yield this.ht.post(this.Ut(e)),t=null!=(n=null==t?void 0:t.code)?n:-1;return{success:200<=t&&t<300}})}Pt(t){return s(this,void 0,void 0,function*(){return{success:yield this.ht.beacon(this.Ut(t))}})}Ut(t){return{sdkKey:this.O,data:{events:t},urlConfig:this.Ot,retries:3,isCompressable:!0,params:{[o.NetworkParam.EventCount]:String(t.length)},credentials:"same-origin"}}Nt(t){for(;500<t.length;)t.shift();var e=this.o();try{(0,c.L)(e,t)}catch(t){l.Log.warn("Unable to save failed logs to storage")}}ct(e){const n=this.o();s(this,void 0,void 0,function*(){c.Storage.isReady()||(yield c.Storage.isReadyResolver());var t=(0,c.G)(n);t&&(e===f.Startup&&c.Storage.removeItem(n),yield this.At(t))&&e===f.GainedFocus&&c.Storage.removeItem(n)}).catch(()=>{l.Log.warn("Failed to flush stored logs")})}o(){return"statsig.failed_logs."+(0,r.h)(this.O)}wt(t){t.user&&(t.user=$P({},t.user),delete t.user.privateAttributes);var e={},n=this.Ft(),n=(n&&(e.statsigMetadata={currentPage:n}),$P($P({},t),e));l.Log.debug("Enqueued Event:",n),this.dt.push(n)}Mt(){0!==Object.keys(this.ft).length&&(this.wt({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:$P({},this.ft)}}),this.ft={})}Ft(){var t;if(!1!==(null==(t=this.m)?void 0:t.includeCurrentPageUrlWithEvents))return(0,u.Gt)()}Dt(){var t=null!=(t=null==(t=this.m)?void 0:t.loggingIntervalMs)?t:1e4;const e=setInterval(()=>{var t=v[this.O];t&&t.Et===e?_.ot(this.O):clearInterval(e)},t);this.Et=e}}e.EventLogger=_},1406:(t,s,e)=>{$Q2(s,"__esModule",{value:!0}),s.Lt=s.Kt=s.h=void 0;const l=e(6634);s.h=e=>{let n=0;for(let t=0;t<e.length;t++){var i=e.charCodeAt(t);n=(n<<5)-n+i,n&=n}return String(n>>>0)},s.Kt=(t,e)=>(0,s.h)(JSON.stringify((0,s.Lt)(t,e)));s.Lt=(n,i)=>{if(null==n)return null;var t=Object.keys(n).sort();const r={};return t.forEach(t=>{var e=n[t];0===i||"object"!==(0,l.zt)(e)?r[t]=e:r[t]=(0,s.Lt)(e,null!=i?i-1:i)}),r}},1333:(t,e)=>{$Q(e)},7512:(t,e)=>{$Q(e),e.Log=e.LogLevel=void 0;function n(t){return t.unshift("[Statsig]"),t}e.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class i{static info(...t){i.level>=e.LogLevel.Info&&console.info("  INFO ",...n(t))}static debug(...t){i.level>=e.LogLevel.Debug&&console.debug(" DEBUG ",...n(t))}static warn(...t){i.level>=e.LogLevel.Warn&&console.warn("  WARN ",...n(t))}static error(...t){i.level>=e.LogLevel.Error&&console.error(" ERROR ",...n(t))}}(e.Log=i).level=e.LogLevel.Warn},7787:(t,e)=>{$Q(e),e.createMemoKey=e.MemoPrefix=void 0,e.MemoPrefix={Kn:"g",Ln:"c",Vn:"e",$n:"l",Bn:"p"};const s=new Set([]),l=new Set(["userPersistedValues"]);e.createMemoKey=function(t,e,n){let i=t+"|"+e;if(n)for(const r of Object.keys(n)){if(l.has(r))return;s.has(r)?i+=`|${r}=true`:i+=`|${r}=`+n[r]}return i}},7410:(t,e)=>{$Q(e),e.NetworkParam=e.NetworkDefault=e.Endpoint=void 0,e.Endpoint={qt:"initialize",jt:"rgstr",Bt:"download_config_specs"},e.NetworkDefault={[e.Endpoint.jt]:"https://prodregistryv2.org/v1",[e.Endpoint.qt]:"https://featureassets.org/v1",[e.Endpoint.Bt]:"https://api.statsigcdn.com/v1"},e.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},7023:function(t,e,n){var j=this&&this.__awaiter||$A();$Q(e),e.NetworkCore=void 0,n(1845);const v=n(1845),w=n(8962),S=n(7512),k=n(7410),i=n(308),f=n(3091),l=n(5902),r=n(6830),o=n(4143),u=n(9122),E=n(2636),a=n(8e3),D=n(2397),I=500,M=3e4;const T=new Set([408,500,502,503,504,522,524,599]);e.NetworkCore=class{constructor(t,e){this.nt=e,this.$t=null,this.Vt=1e4,this.Jt={},this.m={},this.Oi={},this.Jn=null,t&&(this.m=t),this.m.networkConfig&&(this.Jt=this.m.networkConfig),this.Jt.networkTimeoutMs&&(this.Vt=this.Jt.networkTimeoutMs),this.Wt=new i.NetworkFallbackResolver(this.m)}setErrorBoundary(t){this.$t=t,this.$t.wrap(this),this.$t.wrap(this.Wt),this.Wt.setErrorBoundary(t)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){var t=this.Jn;return this.Jn=null,t}beacon(i){return j(this,void 0,void 0,function*(){var t,e,n;return!!x(i)&&(t=this.Ht("POST",i),yield this.Ci(t),e=yield this.Xt(t),(n=navigator).sendBeacon.bind(n)(e,t.body))})}post(e){return j(this,void 0,void 0,function*(){var t=this.Ht("POST",e);return this.Pi(t),yield this.Ci(t),this.Zt(t)})}get(t){t=this.Ht("GET",t);return this.Zt(t)}Zt(m){var b,y,O;return j(this,void 0,void 0,function*(){if(!x(m))return null;if(this.Jt.preventAllNetworkTraffic)return null;var{method:e,body:n,retries:i,attempt:r}=m,t=m.urlConfig.endpoint;if(this.Si(t))return S.Log.warn(`Request to ${t} was blocked because you are making requests too frequently.`),null;r=null!=r?r:1;const s="undefined"!=typeof AbortController?new AbortController:null;var l=setTimeout(()=>{null!==s&&void 0!==s&&s.abort(`Timeout of ${this.Vt}ms expired.`)},this.Vt),o=yield this.Xt(m);let u=null;var a=(0,D.Rt)();try{var c,h,d,v={method:e,body:n,headers:$P({},m.headers),signal:null===s||void 0===s?void 0:s.signal,priority:m.priority,keepalive:a},f=(g=r,(p=m).urlConfig.endpoint===k.Endpoint.qt&&w.Diagnostics.J(p.sdkKey,{attempt:g}),this.Oi[t]),_=(f&&(f.lastRequestTime=Date.now(),this.Oi[t]=f),null!=(b=this.Jt.networkOverrideFunc)?b:fetch);if(u=yield _(o,v),clearTimeout(l),u.ok)return d=yield u.text(),N(m,u,r,d),this.Wt.tryBumpExpiryTime(m.sdkKey,m.urlConfig),{body:d,code:u.status};throw c=yield u.text().catch(()=>"No Text"),(h=new Error(`NetworkError: ${o} `+c)).name="NetworkError",h}catch(t){var g,n=function(t,e){if(null!=t&&t.signal.aborted&&"string"==typeof t.signal.reason)return t.signal.reason;if("string"==typeof e)return e;if(e instanceof Error)return e.name+": "+e.message;return"Unknown Error"}(s,t),a=function(t){t=(null==t?void 0:t.signal.aborted)&&"string"==typeof t.signal.reason&&t.signal.reason.includes("Timeout");return t||!1}(s),p=(N(m,u,r,"",t),yield this.Wt.tryFetchUpdatedFallbackInfo(m.sdkKey,m.urlConfig,n,a));return(p&&(m.fallbackUrl=this.Wt.getActiveFallbackUrl(m.sdkKey,m.urlConfig)),!i||i<r||!T.has(null!=(y=null===u||void 0===u?void 0:u.status)?y:500))?(null!=(y=this.nt)&&y.call(this,{name:"error",error:t,tag:E.ErrorTag.NetworkError,requestArgs:m}),g=`A networking error occurred during ${e} request to ${o}.`,S.Log.error(g,n,t),null!=(O=this.$t)&&O.attachErrorIfNoneExists(g),null):(yield function(e){return j(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(I*(e*e),M)))})}(r),this.Zt($P($P({},m),{retries:i,attempt:r+1})))}})}Si(t){var e=Date.now(),n=null!=(n=this.Oi[t])?n:{count:0,lastRequestTime:e},i=e-n.lastRequestTime,i=Math.floor(.05*i);return n.count=Math.max(0,n.count-i),50<=n.count||(n.count+=1,n.lastRequestTime=e,this.Oi[t]=n,!1)}Xt(i){var r;return j(this,void 0,void 0,function*(){var t=null!=(r=i.fallbackUrl)?r:i.urlConfig.getUrl();i.urlConfig.endpoint!==k.Endpoint.qt&&i.urlConfig.endpoint!==k.Endpoint.Bt||(this.Jn=t);const e=$P({[k.NetworkParam.SdkKey]:i.sdkKey,[k.NetworkParam.SdkType]:l.SDKType.lt(i.sdkKey),[k.NetworkParam.SdkVersion]:a.SDK_VERSION,[k.NetworkParam.Time]:String(Date.now()),[k.NetworkParam.SessionID]:o.SessionID.get(i.sdkKey)},i.params);var n=Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&");return t+(n?"?"+n:"")})}Pi(e){var t,n=(0,r.te)(),i=e.body;if(e.isStatsigEncodable&&!this.m.disableStatsigEncoding&&"string"==typeof i&&null==(0,v.i)("no-encode")&&null!=n&&n.btoa)try{e.body=n.btoa(i).split("").reverse().join(""),e.params=$P($P({},null!=(t=e.params)?t:{}),{[k.NetworkParam.StatsigEncoded]:"1"})}catch(t){S.Log.warn("Request encoding failed for "+e.urlConfig.getUrl(),t)}}Ci(h){var d;return j(this,void 0,void 0,function*(){var e=h.body;if("string"==typeof e&&function(t,e){if(!t.isCompressable)return;if(e.disableCompression)return;return(null==t.urlConfig.customUrl&&null==t.urlConfig.fallbackUrls||!0===f.SDKFlags.get(t.sdkKey,"enable_log_event_compression"))&&null==(0,v.i)("no-compress")&&"undefined"!=typeof CompressionStream&&"undefined"!=typeof TextEncoder}(h,this.m))try{for(var n,i=(new TextEncoder).encode(e),r=new CompressionStream("gzip"),s=r.writable.getWriter(),l=(s.write(i).catch(S.Log.error),s.close().catch(S.Log.error),r.readable.getReader()),o=[];!(n=yield l.read()).done;)o.push(n.value);var u=o.reduce((t,e)=>t+e.length,0),a=new Uint8Array(u);let t=0;for(const c of o)a.set(c,t),t+=c.length;h.body=a,h.params=$P($P({},null!=(d=h.params)?d:{}),{[k.NetworkParam.IsGzipped]:"1"})}catch(t){S.Log.warn("Request compression failed for "+h.urlConfig.getUrl(),t)}})}Ht(t,e){var n=this.Wt.getActiveFallbackUrl(e.sdkKey,e.urlConfig),t=$P($P({},e),{method:t,fallbackUrl:n});return"data"in e&&s(t,e.data),t}};const x=t=>!!t.sdkKey||(S.Log.warn("Unable to make request without an SDK key"),!1),s=(t,e)=>{var{sdkKey:n,fallbackUrl:i}=t,r=u.StableID.get(n),s=o.SessionID.get(n),n=l.SDKType.lt(n);t.body=JSON.stringify($P($P({},e),{statsigMetadata:$P($P({},a.StatsigMetadataProvider.get()),{stableID:r,sessionID:s,sdkType:n,fallbackUrl:i})}))};function N(t,e,n,i,r){t.urlConfig.endpoint===k.Endpoint.qt&&w.Diagnostics.$(t.sdkKey,w.Diagnostics.Z(e,n,i,r))}},308:function(t,e,n){var u=this&&this.__awaiter||$A();$Q(e),e.ee=e.NetworkFallbackResolver=void 0;const o=n(8809),i=n(1406),s=n(7512),l=n(4534);function a(t,e){t=null!=(t=null==t?void 0:t.toLowerCase())?t:"";return e||t.includes("uncaught exception")||t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")}function c(t){return"statsig.network_fallback."+(0,i.h)(t)}function h(t,e){t=c(t);e&&0!==Object.keys(e).length?l.Storage.setItem(t,JSON.stringify(e)):l.Storage.removeItem(t)}e.NetworkFallbackResolver=class{constructor(t){this.ne=null,this.$t=null,this.ie={},this.re=null==(t=t.networkConfig)?void 0:t.networkOverrideFunc}setErrorBoundary(t){this.$t=t}tryBumpExpiryTime(t,e){var n=null==(n=this.ne)?void 0:n[e.endpoint];n&&(n.expiryTime=Date.now()+6048e5,h(t,$P($P({},this.ne),{[e.endpoint]:n})))}getActiveFallbackUrl(t,e){var n;if(null!=e.customUrl&&null!=e.fallbackUrls)return null;let i=this.ne;null==i&&(i=null!=(r=function(t){t=c(t),t=l.Storage.getItem(t);if(!t)return null;try{return JSON.parse(t)}catch(t){return s.Log.error("Failed to parse FallbackInfo"),null}}(t))?r:{},this.ne=i);var r=i[e.endpoint];return!r||Date.now()>(null!=(n=r.expiryTime)?n:0)||e.getChecksum()!==r.urlConfigChecksum?(delete i[e.endpoint],this.ne=i,h(t,this.ne),null):r.url||null}tryFetchUpdatedFallbackInfo(n,i,r,s){var l,o;return u(this,void 0,void 0,function*(){try{var t,e;return a(r,s)?(t=null==i.customUrl&&null==i.fallbackUrls?yield this.se(i):i.fallbackUrls,!!(e=this.le(null==(l=this.ne)?void 0:l[i.endpoint],t))&&(this.oe(n,i,e),!0)):!1}catch(t){return null!=(o=this.$t)&&o.logError("tryFetchUpdatedFallbackInfo",t),!1}})}oe(t,e,n){var n={urlConfigChecksum:e.getChecksum(),url:n,expiryTime:Date.now()+6048e5,previous:[]},e=e.endpoint,i=null==(i=this.ne)?void 0:i[e],i=(i&&n.previous.push(...i.previous),10<n.previous.length&&(n.previous=[]),null==(i=null==(i=this.ne)?void 0:i[e])?void 0:i.url);null!=i&&n.previous.push(i),this.ne=$P($P({},this.ne),{[e]:n}),h(t,this.ne)}se(s){var l;return u(this,void 0,void 0,function*(){var t=this.ie[s.endpoint];if(t&&Date.now()<t)return null;this.ie[s.endpoint]=Date.now()+144e5;var e=[],t=yield(0,o.et)(null!=(l=this.re)?l:fetch),n=function(t){try{return new URL(t).pathname}catch(t){return null}}(s.defaultUrl);for(const r of t)if(r.startsWith(s.endpointDnsKey+"=")){var i=r.split("=");if(1<i.length){let t=i[1];t.endsWith("/")&&(t=t.slice(0,-1)),e.push("https://"+t+n)}}return e})}le(t,e){var n;if(null==e)return null;var i=new Set(null!=(n=null==t?void 0:t.previous)?n:[]),r=null==t?void 0:t.url;let s=null;for(const o of e){var l=o.endsWith("/")?o.slice(0,-1):o;if(!i.has(o)&&l!==r){s=l;break}}return s}},e.ee=a},1405:(t,e)=>{$Q(e)},1361:(t,e)=>{$Q(e)},3091:(t,e)=>{$Q(e),e.SDKFlags=void 0;const n={};e.SDKFlags={setFlags:(t,e)=>{n[t]=e},get:(t,e)=>{return null!=(t=null==(t=n[t])?void 0:t[e])&&t}}},5902:(t,e)=>{$Q(e),e.SDKType=void 0;const n={};let i;e.SDKType={lt:t=>{return(null!=(t=n[t])?t:"js-mono")+(null!==i&&void 0!==i?i:"")},ue(t,e){n[t]=e},ae(t){i&&"-react"!==i||(i="-"+t)}}},6830:(t,i)=>{$Q2(i,"__esModule",{value:!0}),i.Hn=i.Gt=i.ce=i.he=i.kt=i.de=i.te=void 0;i.te=()=>"undefined"!=typeof window?window:null,i.de=()=>{var t=(0,i.te)();return null!=(t=null==t?void 0:t.document)?t:null},i.kt=()=>{var t;return null===(0,i.de)()&&(t="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,"string"==typeof EdgeRuntime||t)},i.he=(t,e)=>{var n=(0,i.te)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(t,e)},i.ce=(t,e)=>{var n=(0,i.de)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(t,e)},i.Gt=()=>{var t;try{return null==(t=(0,i.te)())?void 0:t.location.href.split(/[?#]/)[0]}catch(t){}};i.Hn=()=>{var t=(0,i.te)();return t&&"onpagehide"in t?"pagehide":"beforeunload"}},4143:(t,e,n)=>{$Q(e),e.StatsigSession=e.SessionID=void 0;const i=n(1845),r=n(2137),o=n(7512),u=n(4534),a=n(8023),c=18e5,h=144e5,d={};function v(e,t){return setTimeout(()=>{var t=null==(t=(0,i.l)())?void 0:t.instance(e);t&&t.$emt({name:"session_expired"})},t)}function f(t){return"statsig.session_id."+(0,r.o)(t)}e.SessionID={get:t=>e.StatsigSession.get(t).data.sessionID},e.StatsigSession={get:t=>{null==d[t]&&(d[t]=function(t){let e=function(t){t=f(t);return(0,u.G)(t)}(t);var n=Date.now();e=e||{sessionID:(0,a.getUUID)(),startTime:n,lastUpdate:n};return{data:e,sdkKey:t}}(t));var t=d[t],e=Date.now(),n=t.data,i=t.sdkKey,r=((function({lastUpdate:t}){return Date.now()-t>c}(n)||function({startTime:t}){return Date.now()-t>h}(n))&&(n.sessionID=(0,a.getUUID)(),n.startTime=e,l=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(i))&&l.$emt({name:"session_expired"}),n.lastUpdate=e,n),s=t.sdkKey;s=f(s);try{(0,u.L)(s,r)}catch(t){o.Log.warn("Failed to save SessionID")}clearTimeout(t.idleTimeoutID),clearTimeout(t.ageTimeoutID);var l=e-n.startTime;return t.idleTimeoutID=v(i,c),t.ageTimeoutID=v(i,h-l),t},overrideInitialSessionID:(t,e)=>{var n;d[e]=(t=t,e=e,n=Date.now(),{data:{sessionID:t,startTime:n,lastUpdate:n},sdkKey:e})}}},9122:(t,e,n)=>{$Q(e),e.StableID=void 0;const i=n(2137),r=n(7512),s=n(6830),l=n(4534),o=n(8023),u={},a={};function c(t){return"statsig.stable_id."+(0,i.o)(t)}function h(t,e){e=c(e);try{(0,l.L)(e,t)}catch(t){r.Log.warn("Failed to save StableID to storage")}}function d(t,e){var n;a[e]&&document&&((n=new Date).setFullYear(n.getFullYear()+1),document.cookie=`${v(e)}=${encodeURIComponent(t)}; expires=${n.toUTCString()}; path=/`)}function v(t){return"statsig.stable_id."+(0,i.o)(t)}e.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:t=>{if(null!=u[t])return u[t];let e=null;return null!=(e=function(t){if(a[t]&&null!=(0,s.de)())for(const i of document.cookie.split(";")){var[e,n]=i.trim().split("=");if(e===v(t))return decodeURIComponent(n)}return null}(t))?h(u[t]=e,t):(h(e=null==(e=function(t){t=c(t);return(0,l.G)(t)}(t))?(0,o.getUUID)():e,t),d(e,t),u[t]=e),e},setOverride:(t,e)=>{h(u[e]=t,e),d(t,e)},Xn:(t,e)=>{a[t]=e}}},1375:function(t,e,n){var i=this&&this.__awaiter||$A();$Q(e),e.StatsigClientBase=void 0,n(1845);const l=n(1845),o=n(5542),u=n(7770),a=n(7512),s=n(7787),c=n(6830),h=n(4143),r=n(9122),d=n(4534);e.StatsigClientBase=class{constructor(t,e,n,i){this.loadingStatus="Uninitialized",this.ve=null,this.fe={};var r,s=this.$emt.bind(this);null!=(null==i?void 0:i.logLevel)&&(a.Log.level=i.logLevel),null!=i&&i.disableStorage&&d.Storage._e(!0),null!=i&&i.initialSessionID&&h.StatsigSession.overrideInitialSessionID(i.initialSessionID,t),null!=i&&i.storageProvider&&d.Storage.ge(i.storageProvider),null!=i&&i.enableCookies&&this.updateRuntimeOptions({enableCookies:i.enableCookies}),this.O=t,this.m=null!=i?i:{},this.ji={},this.overrideAdapter=null!=(r=null==i?void 0:i.overrideAdapter)?r:null,this.pe=new u.EventLogger(t,s,n,i),this.$t=new o.ErrorBoundary(t,i,s),this.$t.wrap(this),this.$t.wrap(e),this.$t.wrap(this.pe),n.setErrorBoundary(this.$t),this.dataAdapter=e,this.dataAdapter.attach(t,i,n),this.storageProvider=d.Storage,null!=(e=null==(s=null==(r=this.overrideAdapter)?void 0:r.loadFromStorage)?void 0:s.call(r))&&e.catch(t=>this.$t.logError("OA::loadFromStorage",t)),this.be(),i=t,n=this,(0,c.kt)()||(s=(0,l.l)(),r=null!=(r=s.instances)?r:{},n=n,null!=r[i]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),r[i]=n,s.firstInstance||(s.firstInstance=n),s.instances=r,__STATSIG__=s)}updateRuntimeOptions(t){null!=t.disableLogging&&(this.m.disableLogging=t.disableLogging,this.pe.setLoggingDisabled(t.disableLogging)),null!=t.disableStorage&&(this.m.disableStorage=t.disableStorage,d.Storage._e(t.disableStorage)),null!=t.enableCookies&&(this.m.enableCookies=t.enableCookies,r.StableID.Xn(this.O,t.enableCookies))}flush(){return this.pe.flush()}shutdown(){return i(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this.me("Uninitialized",null),this.ve=null,yield this.pe.stop()})}on(t,e){this.fe[t]||(this.fe[t]=[]),this.fe[t].push(e)}off(t,e){this.fe[t]&&-1!==(e=this.fe[t].indexOf(e))&&this.fe[t].splice(e,1)}$on(t,e){e.__isInternal=!0,this.on(t,e)}$emt(n){var t;const e=e=>{try{e(n)}catch(t){!0===e.__isInternal?this.$t.logError("__emit:"+n.name,t):a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",n)}};this.fe[n.name]&&this.fe[n.name].forEach(t=>e(t)),null!=(t=this.fe["*"])&&t.forEach(e)}me(t,e){this.loadingStatus=t,this.ji={},this.$emt({name:"values_updated",status:t,values:e})}ye(t,e,n){!0===(null==n?void 0:n.disableExposureLog)?this.pe.incrementNonExposureCount(t):this.pe.enqueue(e)}wi(i,r){return(t,e)=>{var n;return!this.m.disableEvaluationMemoization&&(n=(0,s.createMemoKey)(i,t,e))?(n in this.ji||(3e3<=Object.keys(this.ji).length&&(this.ji={}),this.ji[n]=r(t,e)),this.ji[n]):r(t,e)}}}},2636:(t,e)=>{$Q(e),e.ErrorTag=void 0,e.ErrorTag={NetworkError:"NetworkError"}},3206:(t,e)=>{$Q(e),e.DataAdapterCachePrefix=void 0,e.DataAdapterCachePrefix="statsig.cached"},1637:(t,e)=>{$Q(e),e.Oe=e.je=e.Ui=e.Se=e.xt=void 0;const s="statsig::config_exposure",l="statsig::gate_exposure",a="statsig::layer_exposure",c=(t,e,n,i,r)=>(n.bootstrapMetadata&&(i.bootstrapMetadata=n.bootstrapMetadata),{eventName:t,user:e,value:null,metadata:o(n,i),secondaryExposures:r,time:Date.now()});e.xt=({eventName:t})=>t===l||t===s||t===a;function h(t,e){return t.map(t=>"string"==typeof t?(null!=e?e:{})[t]:t).filter(t=>null!=t)}e.Se=(t,e,n)=>{var i,r={gate:e.name,gateValue:String(e.value),ruleID:e.ruleID};return null!=(null==(i=e.__evaluation)?void 0:i.version)&&(r.configVersion=e.__evaluation.version),c(l,t,e.details,r,h(null!=(t=null==(i=e.__evaluation)?void 0:i.secondary_exposures)?t:[],n))},e.Ui=h;e.je=(t,e,n)=>{var i,r={config:e.name,ruleID:e.ruleID};return null!=(null==(i=e.__evaluation)?void 0:i.version)&&(r.configVersion=e.__evaluation.version),null!=(null==(i=e.__evaluation)?void 0:i.passed)&&(r.rulePassed=String(e.__evaluation.passed)),c(s,t,e.details,r,h(null!=(t=null==(i=e.__evaluation)?void 0:i.secondary_exposures)?t:[],n))};e.Oe=(t,e,n,i)=>{var r=e.__evaluation,s=!0===(null==(s=null==r?void 0:r.explicit_parameters)?void 0:s.includes(n));let l="",o=null!=(u=null==r?void 0:r.undelegated_secondary_exposures)?u:[];s&&(l=null!=(u=r.allocated_experiment_name)?u:"",o=r.secondary_exposures);var u={config:e.name,parameterName:n,ruleID:e.ruleID,allocatedExperiment:l,isExplicitParameter:String(s)};return null!=(null==(r=e.__evaluation)?void 0:r.version)&&(u.configVersion=e.__evaluation.version),c(a,t,e.details,u,h(o,i))};const o=(t,e)=>(e.reason=t.reason,t.lcut&&(e.lcut=String(t.lcut)),t.receivedAt&&(e.receivedAt=String(t.receivedAt)),e)},8e3:(t,e)=>{$Q(e),e.StatsigMetadataProvider=e.SDK_VERSION=void 0,e.SDK_VERSION="3.15.2";let n={sdkVersion:e.SDK_VERSION,sdkType:"js-mono"};e.StatsigMetadataProvider={get:()=>n,add:t=>{n=$P($P({},n),t)}}},586:(t,e)=>{$Q(e)},1098:(t,e)=>{$Q(e)},2059:(t,e,n)=>{$Q(e),e.we=e.Te=e.ke=e.Ie=e.De=e.Ee=void 0;const l=n(7512),o=n(6634),r="default";function s(t,e,n,i){return{name:t,details:e,ruleID:null!=(t=null==n?void 0:n.rule_id)?t:r,__evaluation:n,value:i}}function i(t,e,n){var i=null!=(i=null==n?void 0:n.value)?i:{};return $P($P({},s(t,e,n,i)),{get:u(t,null==n?void 0:n.value)})}function u(i,r,s){return(t,e)=>{var n=null!=(n=null==r?void 0:r[t])?n:null;return null==n?null!=e?e:null:null==e||(0,o.Me)(n,e)?(null!=s&&s(t),n):(l.Log.warn(`Parameter type mismatch. '${i}.${t}' was found to be type '${typeof n}' but fallback/return type is '${typeof e}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=e?e:null)}}e.Ee=function(t,e,n){return s(t,e,n,!0===(null==n?void 0:n.value))},e.De=i,e.Ie=function(t,e,n){return t=i(t,e,n),$P($P({},t),{groupName:null!=(e=null==n?void 0:n.group_name)?e:null})},e.ke=function(t,e,n,i){return $P($P({},s(t,e,n,void 0)),{get:u(t,null==n?void 0:n.value,i),groupName:null!=(e=null==n?void 0:n.group_name)?e:null,__value:null!=(t=null==n?void 0:n.value)?t:{}})},e.Te=function(t,e,n,i){return $P($P($P({},t),e),{get:u(t.name,n,i)})},e.we=u},1812:(t,e)=>{$Q(e)},3932:(t,e)=>{$Q(e),e.UPDATE_DETAIL_ERROR_MESSAGES=e.createUpdateDetails=void 0;e.createUpdateDetails=(t,e,n,i,r,s)=>({duration:n,source:e,success:t,error:i,sourceUrl:r,warnings:s}),e.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},8578:(t,e,n)=>{$Q(e),e.v=e.T=void 0;const i=n(1406),r=n(7512);e.T=function(t,e,n){try{var i=JSON.parse(JSON.stringify(t));return null!=e&&null!=e.environment?i.statsigEnvironment=e.environment:null!=n&&(i.statsigEnvironment={tier:n}),i}catch(t){return r.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},e.v=function(t){return t?(0,i.Kt)(t):null}},4534:(t,n,e)=>{$Q2(n,"__esModule",{value:!0}),n.L=n.G=n.Storage=void 0;var i=e(7512),e=e(6830);const r={},s={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]},getAllKeys:()=>Object.keys(r)};let l=null;try{const a=(0,e.te)();a&&a.localStorage&&"function"==typeof a.localStorage.getItem&&(l={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>a.localStorage.getItem(t),setItem:(t,e)=>a.localStorage.setItem(t,e),removeItem:t=>a.localStorage.removeItem(t),getAllKeys:()=>Object.keys(a.localStorage)})}catch(t){i.Log.warn("Failed to setup localStorageProvider.")}let o=null!==l&&void 0!==l?l:s,u=o;n.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:t=>{var e=()=>u.getItem(t);try{return e()}catch(t){if(t instanceof Error&&"SecurityError"===t.name)return n.Storage.ge(s),null;throw t}},setItem:(t,e)=>u.setItem(t,e),removeItem:t=>u.removeItem(t),getAllKeys:()=>u.getAllKeys(),ge:t=>{o=t,u=t},_e:t=>{u=t?s:o}},n.G=function(t){return t=n.Storage.getItem(t),JSON.parse(null!=t?t:"null")},n.L=function(t,e){n.Storage.setItem(t,JSON.stringify(e))}},3401:(t,e,n)=>{$Q(e),e.P=void 0;const r=n(7512);e.P=function(t,e,n){try{var i=JSON.parse(t);if(i&&"object"==typeof i&&e in i)return i}catch(t){}return r.Log.error("Failed to parse "+n),null}},6634:(t,e)=>{$Q(e),e.Me=e.zt=void 0,e.zt=function(t){return Array.isArray(t)?"array":typeof t},e.Me=function(t,e){var n=t=>Array.isArray(t)?"array":typeof t;return n(t)===n(e)}},8023:(t,e)=>{$Q(e),e.getUUID=void 0,e.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let n=(new Date).getTime(),i="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,t=>{let e=16*Math.random();return 0<n?(e=(n+e)%16|0,n=Math.floor(n/16)):(e=(i+e)%16|0,i=Math.floor(i/16)),("x"===t?e:7&e|8).toString(16)})}},1881:(t,e,n)=>{$Q(e),e.UrlConfiguration=void 0;const i=n(1406),r=n(7410),s={[r.Endpoint.qt]:"i",[r.Endpoint.jt]:"e",[r.Endpoint.Bt]:"d"};e.UrlConfiguration=class{constructor(t,e,n,i){this.customUrl=null,this.fallbackUrls=null,this.endpoint=t,this.endpointDnsKey=s[t],e&&(this.customUrl=e),!e&&n&&(this.customUrl=n.endsWith("/")?""+n+t:n+"/"+t),i&&(this.fallbackUrls=i);e=r.NetworkDefault[t];this.defaultUrl=e+"/"+t}getUrl(){var t;return null!=(t=this.customUrl)?t:this.defaultUrl}getChecksum(){var t=(null!=(t=this.fallbackUrls)?t:[]).sort().join(",");return(0,i.h)(this.customUrl+t)}}},2397:(t,e,n)=>{$Q(e),e.Ae=e.It=e.Rt=e.xe=void 0;n=n(6830);const i="foreground",r="background",s=[];let l=i,o=!1;e.xe=()=>l===i,e.Rt=()=>o,e.It=t=>{s.unshift(t)};e.Ae=e=>{e!==l&&(l=e,s.forEach(t=>t(e)))},(0,n.he)("focus",()=>{(o=!1,e.Ae)(i)}),(0,n.he)("blur",()=>(0,e.Ae)(r)),(0,n.ce)("visibilitychange",()=>{(0,e.Ae)("visible"===document.visibilityState?i:r)}),(0,n.he)((0,n.Hn)(),()=>{o=!0,(0,e.Ae)(r)})},6914:function(t,e,n){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),$Q2(t,i,r)}:function(t,e,n,i){t[i=void 0===i?n:i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=($Q(e),e.Storage=e.Log=e.EventLogger=e.Diagnostics=void 0,n(1845),n(1845));const l=n(8962),o=($Q2(e,"Diagnostics",{enumerable:!0,get:function(){return l.Diagnostics}}),n(7770)),u=($Q2(e,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}}),n(7512));$Q2(e,"Log",{enumerable:!0,get:function(){return u.Log}});var a=n(8e3);const c=n(4534);$Q2(e,"Storage",{enumerable:!0,get:function(){return c.Storage}}),r(n(1845),e),r(n(2137),e),r(n(6427),e),r(n(694),e),r(n(8962),e),r(n(3539),e),r(n(5542),e),r(n(2922),e),r(n(2417),e),r(n(1406),e),r(n(1333),e),r(n(7512),e),r(n(7787),e),r(n(7410),e),r(n(7023),e),r(n(1405),e),r(n(1361),e),r(n(6830),e),r(n(5902),e),r(n(4143),e),r(n(9122),e),r(n(1375),e),r(n(2636),e),r(n(3206),e),r(n(1637),e),r(n(8e3),e),r(n(586),e),r(n(1098),e),r(n(2059),e),r(n(1812),e),r(n(8578),e),r(n(4534),e),r(n(3401),e),r(n(6634),e),r(n(1881),e),r(n(8023),e),r(n(2397),e),r(n(3932),e),r(n(3091),e),$P((0,s.l)(),{Log:u.Log,SDK_VERSION:a.SDK_VERSION})},2016:(t,e,n)=>{$Q(e),e.AutoInit=void 0;const m=n(6914),b=n(2018);function y(t,e){var n;return null!=(n=e.get(t))?n:e.get(t.toLowerCase())}e.AutoInit=class{static attempt(e){var t,n,i,r,s;try{var l=(0,m.te)(),o=(0,m.de)();if(l&&o&&o.currentScript){var u=o.currentScript.getAttribute("src"),a=null==(t=l.location)?void 0:t.href;if(u&&a){var c=new URL(u,a).searchParams,h=null!=(n=y("sdkKey",c))?n:y("apiKey",c);if(h){var d={},v=y("proxy",c),f=(v&&(d.networkConfig={api:v}),null==(r=null==(i=(0,m.l)())?void 0:i.instances)?void 0:r[h]);let t=null;if(t=f instanceof b.StatsigClient?f:t)e({sdkKey:h,client:t});else{var _=o.currentScript.dataset;const g=function(t,e){if(t)if(t in e&&"function"==typeof e[t])return e[t];return null}(null!=(s=_.onstatsiginit)?s:_.onStatsigInit,l),p=new b.StatsigClient(h,function(){var t=(0,m.te)();if(!t)return{};let e=t.statsigUser||{};var n=(e="object"!=typeof e?{}:e).custom||{},i=e.customIDs||{};return $P($P({},e),{customIDs:$P({},i),custom:$P($P({},n),{useragent:t.navigator.userAgent,page_url:(0,m.Gt)()||"",language:null==(i=t.navigator)?void 0:i.language})})}(),d);p.initializeAsync().then(()=>{g&&g(p)}).catch(t=>{m.Log.error(t)}),e({sdkKey:h,client:p})}}}}}catch(t){m.Log.error("AutoInit failed",t)}}}},7476:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};$Q(e);const r=n(1964);i=i(n(1964)),n=n(2016);e.default=i.default,n.AutoInit.attempt(({client:t})=>{new r.AutoCapture(t)})},7262:(t,e,n)=>{$Q(e),e.Ne=void 0;const i=n(6914);function r(t,e){null!=t&&t.forEach(t=>{delete e[t]})}e.Ne=function(t,e){var n;return(e=(0,i.P)(e,"checksum","DeltasEvaluationResponse"))?(t=t,n=e,t=$P($P($P({},t),n),{feature_gates:$P($P({},t.feature_gates),n.feature_gates),layer_configs:$P($P({},t.layer_configs),n.layer_configs),dynamic_configs:$P($P({},t.dynamic_configs),n.dynamic_configs)}),r((t=n=t).deleted_gates,t.feature_gates),delete t.deleted_gates,r(n.deleted_configs,t.dynamic_configs),delete t.deleted_configs,r(n.deleted_layers,t.layer_configs),delete t.deleted_layers,n=t,(t=(0,i.Kt)({feature_gates:n.feature_gates,dynamic_configs:n.dynamic_configs,layer_configs:n.layer_configs},2))===e.checksumV2?JSON.stringify(n):{hadBadDeltaChecksum:!0,badChecksum:t,badMergedConfigs:n,badFullResponse:e.deltas_full_response}):{hadBadDeltaChecksum:!0}}},4845:(t,e,n)=>{$Q(e);const r=n(6914);e.default=class{constructor(t){this.O=t,this.Re=null,this.Pe=null,this.Ce="Uninitialized",this.Ue=0,this.Fe=0,this.Ge=null,this.Le=new Set}reset(){this.Pe=null,this.Re=null,this.Ce="Loading",this.Ue=0,this.Fe=0,this.Ge=null}finalize(){this.Pe||(this.Ce="NoValues")}getValues(){return this.Re?(0,r.P)(this.Re,"has_updates","EvaluationStoreValues"):null}setValues(t,e){var n;return!!t&&null!=(n=(0,r.P)(t.data,"has_updates","EvaluationResponse"))&&(this.Ce=t.source,!0===(null==n?void 0:n.has_updates)&&(this.Re=t.data,this.Ue=n.time,this.Fe=t.receivedAt,this.Pe=n,this.Ge=this.Ke(t.source,n),t.source&&n.user&&this.ze(e,n),r.SDKFlags.setFlags(this.O,null!=(t=n.sdk_flags)?t:{})),!0)}getWarnings(){if(0!==this.Le.size)return Array.from(this.Le)}getGate(t){var e;return this.qe(null==(e=this.Pe)?void 0:e.feature_gates,t)}getConfig(t){var e;return this.qe(null==(e=this.Pe)?void 0:e.dynamic_configs,t)}getLayer(t){var e;return this.qe(null==(e=this.Pe)?void 0:e.layer_configs,t)}getParamStore(t){var e;return this.qe(null==(e=this.Pe)?void 0:e.param_stores,t)}getSource(){return this.Ce}getExposureMapping(){var t;return null==(t=this.Pe)?void 0:t.exposures}Ke(t,e){return"Bootstrap"!==t?null:(t={},e.user&&(t.user=e.user),e.sdkInfo&&(t.generatorSDKInfo=e.sdkInfo),t.lcut=e.time,t)}qe(t,e){let n=null;return{result:n=t?t[e]||t[(0,r.h)(e)]:n,details:this.Be(null==n)}}ze(t,e){var n,i=r.StableID.get(this.O);(null==(n=t.customIDs)?void 0:n.stableID)!==i?this.Le.add("StableIDMismatch"):"user"in e&&(n=e.user,(0,r.v)(t)!==(0,r.v)(n))&&this.Le.add("PartialUserMatch")}getCurrentSourceDetails(){var t;return"Uninitialized"===this.Ce||"NoValues"===this.Ce?{reason:this.Ce}:(t={reason:this.Ce,lcut:this.Ue,receivedAt:this.Fe},0<this.Le.size&&(t.warnings=Array.from(this.Le)),t)}Be(t){var e=this.getCurrentSourceDetails();let n=e.reason;var i=null!=(i=e.warnings)?i:[],t=("Bootstrap"===this.Ce&&0<i.length&&(n+=i[0]),"Uninitialized"!==n&&"NoValues"!==n&&(n=n+":"+(t?"Unrecognized":"Recognized")),"Bootstrap"===this.Ce&&null!=(i=this.Ge)?i:void 0);return t&&(e.bootstrapMetadata=t),$P($P({},e),{reason:n})}}},8448:function(t,e,n){var a=this&&this.__awaiter||$A();$Q(e);const c=n(6914),l=n(7262);class i extends c.NetworkCore{constructor(t,e){super(t,e);e=null==t?void 0:t.networkConfig;this.Fi=t,this.Ve=new c.UrlConfiguration(c.Endpoint.qt,null==e?void 0:e.initializeUrl,null==e?void 0:e.api,null==e?void 0:e.initializeFallbackUrls)}fetchEvaluations(i,r,s,l,o){var u;return a(this,void 0,void 0,function*(){var t,e=r?(0,c.P)(r,"has_updates","InitializeResponse"):null;let n={user:l,hash:null!=(u=null==(u=null==(u=this.Fi)?void 0:u.networkConfig)?void 0:u.initializeHashAlgorithm)?u:"djb2",deltasResponseRequested:!1,full_checksum:null};return null!=e&&e.has_updates&&(t=(null==e?void 0:e.hash_used)!==(null!=(u=null==(u=null==(u=this.Fi)?void 0:u.networkConfig)?void 0:u.initializeHashAlgorithm)?u:"djb2"),n=$P($P({},n),{sinceTime:o&&!t?e.time:0,previousDerivedFields:"derived_fields"in e&&o?e.derived_fields:{},deltasResponseRequested:!0,full_checksum:e.full_checksum})),this.Je(i,e,n,s)})}Je(e,n,i,r){var s;return a(this,void 0,void 0,function*(){var t=yield this.post({sdkKey:e,urlConfig:this.Ve,data:i,retries:2,isStatsigEncodable:!0,priority:r});return 204===(null==t?void 0:t.code)?'{"has_updates": false}':200!==(null==t?void 0:t.code)?null!=(s=null==t?void 0:t.body)?s:null:!0!==(null==n?void 0:n.has_updates)||!0!==(null==(s=t.body)?void 0:s.includes('"is_delta":true'))||!0!==i.deltasResponseRequested?t.body:"string"==typeof(t=(0,l.Ne)(n,t.body))?t:this.Je(e,n,$P($P($P({},i),t),{deltasResponseRequested:!1}),r)})}}e.default=i},3583:(t,e,n)=>{$Q(e),e.$e=void 0;const g=n(6914),p={disableExposureLog:!0};function m(t){return null==t||!1===t.disableExposureLog}function b(t,e){return null!=e&&!(0,g.Me)(t,e)}e.$e=function(v,f,_){return(t,e)=>{if(null==f)return e;var n,i,r,s,l,o,u,a,c,h,d=f[t];if(null==d||null!=e&&(0,g.zt)(e)!==d.param_type)return e;switch(d.ref_type){case"static":return d.value;case"gate":return h=d,v.getFeatureGate(h.gate_name,m(_)?void 0:p).value?h.pass_value:h.fail_value;case"dynamic_config":return h=d,u=e,a=_,b(c=(o=v).getDynamicConfig(h.config_name,p).get(h.param_name),u)?u:(m(a)&&o.getDynamicConfig(h.config_name),c);case"experiment":return u=d,a=e,o=_,b(l=(c=v).getExperiment(u.experiment_name,p).get(u.param_name),a)?a:(m(o)&&c.getExperiment(u.experiment_name),l);case"layer":return l=d,i=e,r=_,b(s=(n=v).getLayer(l.layer_name,p).get(l.param_name),i)?i:(m(r)&&n.getLayer(l.layer_name).get(l.param_name),s);default:return e}}}},8198:function(t,e,n){var s=this&&this.__awaiter||$A();$Q(e);const l=n(6914),o=n(4845),u=n(8448),r=n(3583),a=n(4131);class i extends l.StatsigClientBase{static instance(t){var e=(0,l.l)().instance(t);return e instanceof i?e:(l.Log.warn((0,l.kt)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new i(null!=t?t:"",{}))}constructor(t,e,n=null){l.SDKType.ue(t,"javascript-client");var i,r=new u.default(n,t=>{this.$emt(t)}),t=(super(t,null!=(i=null==n?void 0:n.dataAdapter)?i:new a.StatsigEvaluationsDataAdapter,r,n),this.getFeatureGate=this.wi(l.MemoPrefix.Kn,this.Ti.bind(this)),this.getDynamicConfig=this.wi(l.MemoPrefix.Ln,this.Ii.bind(this)),this.getExperiment=this.wi(l.MemoPrefix.Vn,this.ki.bind(this)),this.getLayer=this.wi(l.MemoPrefix.$n,this.Di.bind(this)),this.getParameterStore=this.wi(l.MemoPrefix.Bn,this.Ri.bind(this)),this.We=new o.default(t),this.ht=r,this.He=this.xi(e,n),null!=(i=null==n?void 0:n.plugins)?i:[]);for(const s of t)s.bind(this)}initializeSync(t){var e;return"Uninitialized"!==this.loadingStatus?(0,l.createUpdateDetails)(!0,this.We.getSource(),-1,null,null,["MultipleInitializations",...null!=(e=this.We.getWarnings())?e:[]]):(this.pe.start(),this.updateUserSync(this.He,t))}initializeAsync(t){return s(this,void 0,void 0,function*(){return this.ve||(this.ve=this.Ye(t)),this.ve})}updateUserSync(t,e){var n=performance.now(),i=[...null!=(i=this.We.getWarnings())?i:[]],t=(this.Xe(t),this.dataAdapter.getDataSync(this.He)),e=(null==t&&i.push("NoCachedValues"),this.We.setValues(t,this.He),this.Qe(t),null==e?void 0:e.disableBackgroundCacheRefresh);return!0===e||null==e&&"Bootstrap"===(null==t?void 0:t.source)||this.Ze(null!=t?t:null,this.He),(0,l.createUpdateDetails)(!0,this.We.getSource(),performance.now()-n,this.$t.getLastSeenErrorAndReset(),this.ht.getLastUsedInitUrlAndReset(),i)}updateUserAsync(i,r){return s(this,void 0,void 0,function*(){this.Xe(i);var t=this.He,e=(l.Diagnostics.B(this.O),this.dataAdapter.getDataSync(t));if(this.We.setValues(e,this.He),this.me("Loading",e),e=yield this.dataAdapter.getDataAsync(e,t,r),t!==this.He)return(0,l.createUpdateDetails)(!1,this.We.getSource(),-1,new Error("User changed during update"),this.ht.getLastUsedInitUrlAndReset());let n=!1;null!=e&&(l.Diagnostics.W(this.O),n=this.We.setValues(e,this.He),l.Diagnostics.H(this.O,{success:n})),this.Qe(e),n||(this.$t.attachErrorIfNoneExists(l.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),l.Diagnostics.V(this.O,n,this.We.getCurrentSourceDetails());t=l.Diagnostics.tt(this.He,this.pe,this.O,this.m);return(0,l.createUpdateDetails)(n,this.We.getSource(),t,this.$t.getLastSeenErrorAndReset(),this.ht.getLastUsedInitUrlAndReset(),this.We.getWarnings())})}getContext(){return{sdkKey:this.O,options:this.m,values:this.We.getValues(),user:JSON.parse(JSON.stringify(this.He)),errorBoundary:this.$t,session:l.StatsigSession.get(this.O),stableID:l.StableID.get(this.O)}}checkGate(t,e){return this.getFeatureGate(t,e).value}logEvent(t,e,n){this.pe.enqueue($P($P({},"string"==typeof t?{eventName:t,value:e,metadata:n}:t),{user:this.He,time:Date.now()}))}be(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this.Qe(null)})}Ye(t){return s(this,void 0,void 0,function*(){return l.Storage.isReady()||(yield l.Storage.isReadyResolver()),this.pe.start(),this.updateUserAsync(this.He,t)})}Qe(t){this.We.finalize(),this.me("Ready",t)}Ze(t,e){this.dataAdapter.getDataAsync(t,e,{priority:"low"}).catch(t=>{l.Log.error("An error occurred after update.",t)})}Xe(t){this.pe.reset(),this.We.reset(),this.He=this.xi(t,this.m)}xi(t,e){t=(0,l.T)(t,e),e=null==(e=t.customIDs)?void 0:e.stableID;return e&&l.StableID.setOverride(e,this.O),t}Ti(t,e){var{result:n,details:i}=this.We.getGate(t),i=(0,l.Ee)(t,i,n),r=null==(r=null==(n=this.overrideAdapter)?void 0:n.getGateOverride)?void 0:r.call(n,i,this.He,e),n=null!=r?r:i;return this.ye(t,(0,l.Se)(this.He,n,this.We.getExposureMapping()),e),this.$emt({name:"gate_evaluation",gate:n}),n}Ii(t,e){var{result:n,details:i}=this.We.getConfig(t),i=(0,l.De)(t,i,n),r=null==(r=null==(n=this.overrideAdapter)?void 0:n.getDynamicConfigOverride)?void 0:r.call(n,i,this.He,e),n=null!=r?r:i;return this.ye(t,(0,l.je)(this.He,n,this.We.getExposureMapping()),e),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:n}),n}ki(t,e){var{result:n,details:i}=this.We.getConfig(t),i=(0,l.Ie)(t,i,n),r=(null!=i.__evaluation&&(i.__evaluation.secondary_exposures=(0,l.Ui)(null!=(n=null==(n=i.__evaluation)?void 0:n.secondary_exposures)?n:[],this.We.getExposureMapping())),null==(r=null==(n=this.overrideAdapter)?void 0:n.getExperimentOverride)?void 0:r.call(n,i,this.He,e)),n=null!=r?r:i;return this.ye(t,(0,l.je)(this.He,n,this.We.getExposureMapping()),e),this.$emt({name:"experiment_evaluation",experiment:n}),n}Di(e,n){var{result:t,details:i}=this.We.getLayer(e),i=(0,l.ke)(e,i,t),r=null==(r=null==(t=this.overrideAdapter)?void 0:t.getLayerOverride)?void 0:r.call(t,i,this.He,n);null!=n&&n.disableExposureLog&&this.pe.incrementNonExposureCount(e);const s=(0,l.Te)(i,r,null!=(t=null==r?void 0:r.__value)?t:i.__value,t=>{null!=n&&n.disableExposureLog||this.ye(e,(0,l.Oe)(this.He,s,t,this.We.getExposureMapping()),n)});return this.$emt({name:"layer_evaluation",layer:s}),s}Ri(t,e){var{result:n,details:i}=this.We.getParamStore(t),t=(this.pe.incrementNonExposureCount(t),{name:t,details:i,__configuration:n,get:(0,r.$e)(this,n,e)}),n=null==(n=null==(i=this.overrideAdapter)?void 0:i.getParamStoreOverride)?void 0:n.call(i,t,e);return null!=n&&(t.__configuration=n.config,t.details=n.details,t.get=(0,r.$e)(this,n.config,e)),t}}e.default=i},4131:function(t,e,n){var l=this&&this.__awaiter||$A();$Q(e),e.StatsigEvaluationsDataAdapter=void 0;const i=n(6914),r=n(8448);class s extends i.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this.ht=null,this.m=null}attach(t,e,n){super.attach(t,e,n),null!==n&&n instanceof r.default?this.ht=n:this.ht=new r.default(null!=e?e:{})}getDataAsync(t,e,n){return this.D(t,(0,i.T)(e,this.m),n)}prefetchData(t,e){return this.A(t,e)}setData(t){var e=(0,i.P)(t,"has_updates","data");e&&"user"in e?super.setData(t,e.user):i.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(t,e){super.setData(t,e)}R(e,n,i,r){var s;return l(this,void 0,void 0,function*(){var t=yield null==(s=this.ht)?void 0:s.fetchEvaluations(this.C(),e,null==i?void 0:i.priority,n,r);return null!=t?t:null})}k(t){t=(0,i.o)(this.C(),t,null==(t=this.m)?void 0:t.customUserCacheKeyFunc);return`${i.DataAdapterCachePrefix}.${this.p}.`+t}N(t,e){return null!=t.fullUserHash&&t.fullUserHash===(0,i.v)(e)}}e.StatsigEvaluationsDataAdapter=s},2018:function(t,e,n){var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),$Q2(t,i,r)}:function(t,e,n,i){t[i=void 0===i?n:i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=($Q(e),e.StatsigClient=void 0,n(6914)),l=n(8198),r=(e.StatsigClient=l.default,r(n(6914),e),$P((0,s.l)(),{StatsigClient:l.default}));e.default=r},4535:(t,e,n)=>{$Q(e),e.AutoCapture=e.runStatsigAutoCapture=e.StatsigAutoCapturePlugin=void 0;const c=n(6914),i=n(5423),r=n(6325),s=n(6901),l={submit:i.AutoCaptureEventName.FORM_SUBMIT,click:i.AutoCaptureEventName.CLICK};function o(t,e){return new u(t,e)}e.StatsigAutoCapturePlugin=class{constructor(t){this.m=t,this.__plugin="auto-capture"}bind(t){o(t,this.m)}},e.runStatsigAutoCapture=o;class u{constructor(t,e){this.tn=t,this.en=Date.now(),this.nn=0,this.rn={},this.sn=null,this.Ei=!1,this.Ai=null;var{sdkKey:t,errorBoundary:n,values:i}=t.getContext(),i=(this.rn=null!=(i=null==(i=null==i?void 0:i.auto_capture_settings)?void 0:i.disabled_events)?i:{},this.$t=n,this.$t.wrap(this),this.ln=null==e?void 0:e.eventFilterFunc,(0,c.de)());(0,c.kt)()||((e=null!=(n=(__STATSIG__=(0,c.l)()).acInstances)?n:{})[t]=this,__STATSIG__.acInstances=e),"loading"===(null==i?void 0:i.readyState)?i.addEventListener("DOMContentLoaded",()=>this.qt()):this.qt()}un(){const n=(0,c.te)();var t=(0,c.de)();if(n&&t){const e=(t,e=!0)=>{this.an(t||n.event),e&&this.Ni()};(0,r.cn)(t,"click",t=>e(t)),(0,r.cn)(t,"submit",t=>e(t)),(0,r.cn)(n,"error",t=>e(t,!1)),(0,r.cn)(n,"pagehide",()=>this.Mi()),(0,r.cn)(n,"beforeunload",()=>this.Mi()),(0,r.cn)(n,"scroll",()=>this.dn())}}vn(){var t=(0,c.te)(),e=(0,c.de)();t&&e&&((0,r.cn)(t,"popstate",()=>this.fn()),window.history.pushState=new Proxy(window.history.pushState,{apply:(t,e,[n,i,r])=>{t.apply(e,[n,i,r]),this.fn()}}),this.fn())}an(t){var e,n=null==(n=t.type)?void 0:n.toLowerCase();"error"===n&&t instanceof ErrorEvent?this._n(t):(e=(0,r.gn)(t))&&(0,r.St)(t,e)&&(t=l[n])&&({value:n,metadata:e}=(0,r.pn)(e),this.bn(t,n,e))}Ni(){var t=(0,c.te)();t&&(this.Ai&&clearTimeout(this.Ai),this.Ai=t.setTimeout(()=>{this.Mi(!0)},6e5))}qt(){this.un(),this.vn(),this.mn(),this.yn()}_n(t){var e=(null==t?void 0:t.error)||{};let n=e;if("object"==typeof e)try{n=JSON.stringify(e)}catch(t){n="function"==typeof(null==e?void 0:e.toString)?e.toString():"Unknown Error"}this.bn(i.AutoCaptureEventName.ERROR,t.message,{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,error_str:n})}mn(){var t=this.On();try{this.jn(t)&&this.bn(i.AutoCaptureEventName.SESSION_START,(0,r.Sn)(),{sessionID:t.data.sessionID},{flushImmediately:!0})}catch(t){this.$t.logError("AC::logSession",t)}}fn(){var t=(0,r.wn)(),e=this.sn;e&&t.href===e.href||(this.sn=t,e=(this.Ei=!1,s.Tn)(t),this.bn(i.AutoCaptureEventName.PAGE_VIEW,(0,r.Sn)(),e,{flushImmediately:!0,addNewSessionMetadata:!0}),this.Ni())}Mi(t=!1){this.Ei||(this.Ei=!0,this.bn(i.AutoCaptureEventName.PAGE_VIEW_END,(0,r.Sn)(),{scrollDepth:this.nn,pageViewLength:Date.now()-this.en,dueToInactivity:t},{flushImmediately:!0}))}yn(){const n=(0,c.te)();void 0!==(null===n||void 0===n?void 0:n.performance)&&"function"==typeof n.performance.getEntriesByType&&"function"==typeof n.performance.getEntriesByName&&setTimeout(()=>{var t={},e=n.performance.getEntriesByType("navigation"),e=(e&&0<e.length&&e[0]instanceof PerformanceNavigationTiming&&(e=e[0],t.load_time_ms=e.duration,t.dom_interactive_time_ms=e.domInteractive-e.startTime,t.redirect_count=e.redirectCount,t.transfer_bytes=e.transferSize),n.performance.getEntriesByName("first-contentful-paint")),e=(e&&0<e.length&&e[0]instanceof PerformancePaintTiming&&(t.first_contentful_paint_time_ms=e[0].startTime),(0,r.kn)());e&&(t.effective_connection_type=e.effectiveType,t.rtt_ms=e.rtt,t.downlink_kbps=e.downlink,t.save_data=e.saveData),this.bn(i.AutoCaptureEventName.PERFORMANCE,(0,r.Sn)(),t)},1)}bn(t,e,n,i){var r,s,l,o=t.slice("auto_capture::".length);if(!this.rn[t]&&!this.rn[o]){o=this.On();try{var u=$P({sessionID:o.data.sessionID,page_url:null!=(l=null==(s=null==(r=(0,c.te)())?void 0:r.location)?void 0:s.href)?l:""},n),a=(null!=i&&i.addNewSessionMetadata&&(u.isNewSession=String(this.jn(o))),{eventName:t,value:e,metadata:u});this.ln&&!this.ln(a)||(this.tn.logEvent(a),null!=i&&i.flushImmediately&&this.tn.flush().catch(t=>{c.Log.error(t)}))}catch(t){this.$t.logError("AC::enqueue",t)}}}dn(){var t=null!=(t=null==(t=(0,c.de)())?void 0:t.body.scrollHeight)?t:1,e=(0,c.te)(),n=null!=(n=null==e?void 0:e.scrollY)?n:1,e=null!=(e=null==e?void 0:e.innerHeight)?e:1;this.nn=Math.max(this.nn,Math.min(100,Math.round((n+e)/t*100))),this.Ni()}jn(t){return Math.abs(t.data.startTime-Date.now())<1e3}On(){return this.tn.getContext().session}}e.AutoCapture=u},5423:(t,e)=>{$Q(e),e.AutoCaptureEventName=void 0,e.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click"}},6325:(t,e,n)=>{$Q(e),e.kn=e.cn=e.Sn=e.wn=e.St=e.gn=e.pn=e.In=void 0;const s=n(6914);function l(t){var e={};if(t){var n=null==t?void 0:t.dataset;if(n)for(const i in n)e["data-"+i]=n[i]||""}return e}function o(e){if(e){let t=e;for(;t;){var n=t.tagName.toLowerCase();if(["body","document"].includes(n))return null;if("a"===t.tagName.toLowerCase())return t;t=t.parentElement}}return null}e.In=l,e.pn=function(t){var e=t.tagName.toLowerCase(),n={},i=(0,s.Gt)()||"",r=("form"===(n.tagName=e)&&(n.action=t.getAttribute("action"),n.method=null!=(r=t.getAttribute("method"))?r:"GET",n.formName=t.getAttribute("name"),n.formId=t.getAttribute("id")),["input","select","textarea"].includes(e)&&"password"!==t.getAttribute("type")&&(n.content=t.value,n.inputName=t.getAttribute("name")),o(t));return r&&(n.href=r.getAttribute("href")),"button"!==e&&!r||(n.content=(t.textContent||"").trim(),e=l(r||t),$P(n,e)),{value:i,metadata:n}},e.gn=function(t){if(!t)return null;let e=t.target||t.srcElement;return e&&e instanceof Element?e=3===e.nodeType?e.parentNode||null:e:null},e.St=function(t,e){if(!t||!e||1!==e.nodeType)return!1;var n=e.tagName.toLowerCase(),i=t.type.toLowerCase();switch(n){case"html":return!1;case"form":return"submit"===i;case"input":case"select":case"textarea":return["change"].includes(i);default:if("click"===i){if("button"===n)return!0;if(o(e))return!0}return!1}},e.wn=function(){var t=null!=(t=null==(t=null==(t=(0,s.te)())?void 0:t.location)?void 0:t.href)?t:"";let e;try{e=new URL(t)}catch(t){e=new URL("error:")}return e},e.Sn=function(){return(0,s.Gt)()||""},e.cn=function(t,e,n){t&&t.addEventListener&&t.addEventListener(e,n,!0)},e.kn=function(){var t=(0,s.te)();return t&&t.navigator&&t.navigator.connection||null}},1964:(t,e,n)=>{$Q(e),e.StatsigAutoCapturePlugin=e.runStatsigAutoCapture=e.AutoCapture=e.AutoCaptureEventName=void 0;var i=n(6914);const r=n(4535);$Q2(e,"AutoCapture",{enumerable:!0,get:function(){return r.AutoCapture}}),$Q2(e,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return r.StatsigAutoCapturePlugin}}),$Q2(e,"runStatsigAutoCapture",{enumerable:!0,get:function(){return r.runStatsigAutoCapture}});var s=n(5423),n=($Q2(e,"AutoCaptureEventName",{enumerable:!0,get:function(){return s.AutoCaptureEventName}}),$P((0,i.l)(),{AutoCapture:r.AutoCapture,runStatsigAutoCapture:r.runStatsigAutoCapture,StatsigAutoCapturePlugin:r.StatsigAutoCapturePlugin}));e.default=n},6901:(t,e,n)=>{$Q(e),e.Tn=void 0;const a=n(6914);e.Tn=function(t){var e=(0,a.de)(),n=(0,a.te)();if(!e||!n)return{};var i=null==n?void 0:n.navigator,r=(null==e?void 0:e.referrer)||"";let s=new URL("empty:");if(r)try{s=new URL(r||"empty:")}catch(t){}o=s,l=function(t){const e=t.hostname,n=["google","bing","yahoo","duckduckgo","baidu"].find(t=>e.includes(t+"."));return n||""}(o),o=o.searchParams.get("yahoo"===l?"p":"q")||"";var l={searchEngine:l,searchQuery:o},o=function(t){const n=t.searchParams,i={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","gclid","gclsrc","dclid","fbclid","msclkid","mc_eid","mc_cid","twclid","li_fat_id","igshid","utm_id","ttc","ttclid","ttc_id"].forEach(t=>{var e=n.get(t);e&&(i[t]=e)}),i}(t);const u={};return t.searchParams.forEach((t,e)=>{u[e]=t}),$P($P($P($P({},l),o),u),{title:(null==e?void 0:e.title)||"",locale:(null==i?void 0:i.language)||"unknown",hostname:t.hostname||"unknown",pathname:t.pathname||"unknown",referrer:r,screen_width:(null==(l=null==n?void 0:n.screen)?void 0:l.width)||"unknown",screen_height:(null==(o=null==n?void 0:n.screen)?void 0:o.height)||"unknown",viewport_width:(null==n?void 0:n.innerWidth)||"unknown",viewport_height:(null==n?void 0:n.innerHeight)||"unknown"})}}},i={};function r(t){var e=i[t];return void 0!==e||(e=i[t]={exports:{}},n[t].call(e.exports,e,e.exports,r)),e.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(7476).default})());